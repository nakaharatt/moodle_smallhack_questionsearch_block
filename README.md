# moodle_smallhack_questionsearch_block
Moodle 4.5の問題バンクにおいてテキストブロックを利用したJavaScriptによる問題検索機能を追加するコード

## 設定手順
1. （任意）エディタプレファレンスでエディタをプレインテキストに変更する 
2. 検索機能を追加したい問題バンクに移動し、編集モードをオンにする
3. ブロックの追加よりテキストブロックを追加
4. script.htmlのコードをペーストして保存

## 使い方
1. すべて表示するをクリックして問題をすべて表示する（すでに検索対象が表示されているのであれば不要）
2. 検索文字列を入力して検索ボタンをクリック

## 注意点
1. 問題バンクに4000問以上登録されている場合は、4000にハードコードされているqperpageの値を適宜修正してください。
2. 検索対象は現在表示されている問題の問題名、問題テキスト、作成者、修正 byです。
3. すべてにチェックする機能には対応させているつもりですが、削除等の操作には十分気をつけてください。
4. すべて表示する機能は、問題バンクのフィルタに依存します。すべて表示させたいカテゴリ（コーストップなど）を選んだ状態でご利用ください。
5. すべて表示を解除して、ページング状態に戻するには、さらに..から問題バンクを開くなどqperpageパラメータをなくせば戻るはずです。それでも戻らない場合は「カラムをリセットする」ボタンをクリックしてみてください。
